<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Flow Visualization</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .node circle {
            fill: #487da4;
            stroke: #fff;
            stroke-width: 2px;
        }
        .node text {
            font-size: 14px;
            fill: white;
        }
        .link {
            fill: none;
            stroke: #de9179;
            stroke-width: 2px;
        }
    </style>
</head>
<body>
    <svg width="800" height="600"></svg>
    
    <script>
        const quizData = [
            { id: "q1", question: "Data Visualization?", next: ["q2", "q3"] },
            { id: "q2", question: "Data Analysis?", next: ["q3", "q4"] },
            { id: "q3", question: "AI Applications?", next: ["q4", "q5"] },
            { id: "q4", question: "Geospatial Tools?", next: ["q5", "q6"] }
        ];

        const treeLayout = d3.tree().size([600, 400]);
        const hierarchy = d3.hierarchy({ children: quizData }, d => d.next);
        const treeData = treeLayout(hierarchy);

        const svg = d3.select("svg"),
            g = svg.append("g").attr("transform", "translate(100,50)");

        const link = g.selectAll(".link")
            .data(treeData.links())
            .enter().append("path")
            .attr("class", "link")
            .attr("d", d3.linkVertical().x(d => d.x).y(d => d.y));

        const node = g.selectAll(".node")
            .data(treeData.descendants())
            .enter().append("g")
            .attr("class", "node")
            .attr("transform", d => `translate(${d.x},${d.y})`);

        node.append("circle").attr("r", 20);
        node.append("text").attr("dy", 5).attr("text-anchor", "middle").text(d => d.data.question);
    </script>
</body>
</html>
